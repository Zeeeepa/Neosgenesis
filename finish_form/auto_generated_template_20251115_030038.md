# 多 Agent 协作表单模板

## 使用说明

- 每个阶段的责任 Agent 必须在完成本阶段推理后立即填写对应章节。  
- 所有字段均需保持精确、可复查，可通过引用外部笔记或附录补充细节。  
- 所有工具调用的关键输入、输出与挂载路径必须记录在本表单中，确保表单是唯一任务真相源。  
- 执行/统筹 Agent 在开始行动前请先核对索引，确认所有前置阶段均已"完成并确认"。  
- 若某字段暂时未知，请填写 `TBD` 并说明缺失原因与预期补全时间。  

---

## 索引

| 序号 | 阶段/节点 | 责任 Agent | 上下文信息 | 状态 | 快速跳转 |
| ---- | --------- | ---------- | -------- | ---- | -------- |
| 1 | 全局任务元数据 | 总控 Agent / 系统 | - | | [全局任务元数据](#全局任务元数据) |
| 2 | 阶段一 | `Metacognitive_Analysis_agent` | 第 30-43 行、`ability_library/core_capabilities.md` | | [阶段一](#阶段一元能力分析metacognitive_analysis_agent) |
| 3 | 阶段二-A | `Candidate_Selection_agent` | `STAGE1_ANALYSIS` 锚点、`strategy_library/strategy.md`、第 35 行 | | [阶段二-A](#阶段二-a候选策略产出candidate_selection_agent) |
| 4 | 阶段二-B | `Strategy_Selection_agent` | `STAGE1_ANALYSIS` + `STAGE2A_ANALYSIS` 锚点、`strategy_library/strategy.md` | | [阶段二-B](#阶段二-b策略遴选strategy_selection_agent) |
| 5 | 阶段二-C | `Stage2_Capability_Upgrade_agent` | `STAGE1_ANALYSIS` + `STAGE2B_ANALYSIS` 锚点 | | [阶段二-C](#阶段二-c能力升级评估stage2_capability_upgrade_agent) |
| 6 | 阶段三 | `Step_agent` | `STAGE1_ANALYSIS` + `STAGE2B_ANALYSIS` 锚点、`MCP/tool.md` | | [阶段三](#阶段三执行步骤规划step_agent) |
| 7 | 执行阶段 | 执行 Agent | `STAGE1_ANALYSIS` + `STAGE2B_ANALYSIS` 锚点、第 36-39 行 | | [执行阶段](#执行阶段任务落实executor) |
| 8 | 附录与补充材料 | 任意补充方 | - | | [附录与补充材料](#附录与补充材料) |

> **提示**：更新状态时请同步在表头注明更新时间（例如：`已完成 @ 2025-11-14 02:05`）。

---

## 全局任务元数据

- **任务名称**：`在此填写`
- **任务生成时间**：`YYYY-MM-DD HH:MM`
- **总控 Agent**：`负责协调的 Agent/系统`
- **目标概述**：`一句话描述整体目标`
- **成功判据**：
  1. `判据 1`
  2. `判据 2`
  3. …
- **外部约束/假设**：
  - `约束或假设`
- **输入资源索引**：`集中罗列本任务所依赖的输入资源（示例：需求简报、能力库条目链接、历史日志等）`
- **补充说明**：`需让所有 Agent 了解的额外信息`

---

## 阶段一：元能力分析（Metacognitive_Analysis_agent）

- **负责人**：`Metacognitive_Analysis_agent`
- **最近更新时间**：`YYYY-MM-DD HH:MM`
- **阶段目标摘要**：`用 1-2 句话说明本阶段产出目的`
- **思考概括（供全局 Agent 快速浏览）**：`提炼 3-5 句总结核心推理与结论`

### 阶段原文记录（阶段一）

> 请勿删除以下锚点。阶段一代理应将完整推理内容写入此块，系统会根据 `<!-- STAGE1_ANALYSIS_START -->
我将作为 Stage 1 自我能力分析代理，对这个问题进行全面分析。

## 阶段一：元能力分析（Metacognitive_Analysis_agent）

### 1) 任务画像与挑战点

**任务类型**: `celebrity_information_query` (名人信息查询)

**关键挑战要素**:
- **C1**: 需要准确识别"爱情公寓曾小贤的扮演者"的真实姓名（陈赫）
- **C2**: 查询近期综艺参与情况，涉及时效性要求
- **C3**: 需要区分不同综艺节目的类型和播出时间
- **C4**: 信息可能存在时效性限制，需要外部验证

### 2) 核心能力与潜在失误点

| 能力名称 | 能力来源 | 作用 | 潜在风险 |
|---------|----------|------|----------|
| `knowledge_retrieval` (C1) | 核心能力库 | 检索陈赫的基本信息和综艺参与记录 | 可能混淆同名艺人或获取过时信息 |
| `multi_hop_reasoning` (B1) | 核心能力库 | 从角色名→演员名→综艺参与的推理链条 | 在推理过程中可能遗漏中间环节 |
| `verification` (E1) | 核心能力库 | 验证信息的时效性和准确性 | 对"最近"的时间界定可能存在主观偏差 |

### 3) 复杂度评估

**复杂度等级**: `simple`

**驱动因素**:
- 推理步骤相对直接（角色→演员→活动）
- 信息类型标准化，易于验证
- 主要挑战在于时效性和准确性保证

### 4) 时效性与知识边界

**Knowledge Boundary: Insufficient**

由于我的知识截止到2024年1月，对于"最近"的综艺参与信息可能存在时效性限制，需要外部工具验证最新动态。

### 5) 内容质量自评

**预判质量**:
- **完整性**: 0.7 (基础信息完整，但最新动态需要补充)
- **准确性**: 0.8 (基于历史数据的准确性较高)
- **时效性**: 0.5 (受限于知识截止时间)
- **关键缺口**: 2024年1月之后的综艺参与记录

**分析结论**: 我能够准确识别曾小贤的扮演者陈赫，并提供其历史综艺参与情况，但对于"最近"的具体时间范围内的最新动态，需要依赖外部工具获取实时信息。

<!-- STAGE1_ANALYSIS_END -->

---

**状态更新**: 已完成 @ 2025-04-03

**下一步建议**: 建议 Stage 2 候选策略产出代理考虑使用实时搜索工具来获取陈赫最新的综艺参与信息，确保回答的时效性和准确性。
<!-- STAGE1_ANALYSIS_END -->` 之间的内容进行自动替换。

<!-- STAGE1_ANALYSIS_START -->
`待填写`
<!-- STAGE1_ANALYSIS_END -->

### 1. 任务语境理解

| 字段 | 填写内容 |
| ---- | -------- |
| 核心问题复述 | |
| 上下文要点 | |
| 关键限制条件 | |
| 已知未知（知识缺口） | |

### 2. 现有能力盘点

| 能力/资源 | 来源（库/模块/Agent） | 适配度评估 (`高/中/低`) | 备注 |
| ---------- | --------------------- | ----------------------- | ---- |
| 示例：能力名称 | 示例：`ability_library/core_capabilities.md` | 高 | |
|  |  |  | |

### 3. 风险与应对

- **潜在风险列表**：
  1. `风险描述` — `初步缓解思路`
- **需向后续阶段传递的注意事项**：
  - `事项 1`

### 4. 阶段结论

- **建议行动方向**：`概括性的行动建议`
- **交付状态（阶段一）**：`已完成/待补充`（若待补充，请注明原因与预期完成时间）

---

## 阶段二-A：候选策略产出（Candidate_Selection_agent）

- **负责人**：`Candidate_Selection_agent`
- **最近更新时间**：`YYYY-MM-DD HH:MM`
- **阶段目标摘要**：`生成多样化候选策略`
- **思考概括（供全局 Agent 快速浏览）**：`提炼 3-5 句总结核心推理与结论`

### 阶段原文记录（阶段二-A）

> 请勿删除以下锚点。阶段二-A 代理应将候选策略推理全文写入此块，系统会根据 `<!-- STAGE2A_ANALYSIS_START -->` 与 `<!-- STAGE2A_ANALYSIS_END -->` 之间的内容进行自动替换。

<!-- STAGE2A_ANALYSIS_START -->
`待填写`
<!-- STAGE2A_ANALYSIS_END -->

### 1. 接收的上游要点核对

| 要点 | 是否已覆盖 (`是/否`) | 补充说明 |
| ---- | ------------------- | -------- |
| 风险缓解要求 |  | |
| 能力适配建议 |  | |
| 其他 |  | |

### 2. 候选策略列表

| 编号 | 策略标题 | 策略概要 | 预期收益 | 主要成本/风险 | 依赖前提 |
| ---- | -------- | -------- | -------- | ------------ | -------- |
| S-1 | | | | | |
| S-2 | | | | | |
| S-3 | | | | | |

### 3. 推荐优先级判据

- **排序规则**：`例如：收益优先/风险最低/时间最短`
- **额外说明**：`如需要特定评估指标`

### 4. 阶段交付状态（阶段二-A）

- **状态**：`已完成/进行中/待补充`
- **待补充事项**：`若有，列出清单`

---

## 阶段二-B：策略遴选（Strategy_Selection_agent）

- **负责人**：`Strategy_Selection_agent`
- **最近更新时间**：`YYYY-MM-DD HH:MM`
- **阶段目标摘要**：`从候选策略中挑选最优方案，并解释理由`
- **思考概括（供全局 Agent 快速浏览）**：`提炼 3-5 句总结核心推理与结论`

### 阶段原文记录（阶段二-B）

> 请勿删除以下锚点。阶段二-B 代理应将策略遴选推理全文写入此块，系统会根据 `<!-- STAGE2B_ANALYSIS_START -->` 与 `<!-- STAGE2B_ANALYSIS_END -->` 之间的内容进行自动替换。

<!-- STAGE2B_ANALYSIS_START -->
`待填写`
<!-- STAGE2B_ANALYSIS_END -->

### 1. 候选策略评估

| 策略编号 | 评估指标 | 得分/判定 | 主要理由 |
| -------- | -------- | ---------- | -------- |
| S-1 | | | |
| S-2 | | | |
| S-3 | | | |

> **提示**：若需要额外指标，可直接在表格下方追加子表。

### 2. 选定策略

- **最终选择**：`策略编号`
- **核心依据**：
  1. `关键论据 1`
  2. `关键论据 2`
- **风险缓解计划**：`如何应对潜在问题`
- **备用策略**：`如有备选，请注明触发条件`

### 3. 输出交付（阶段二-B）

- **交付状态（阶段二-B）**：`已完成/进行中/待补充`
- **交付给下一阶段的要点**：
  - `执行流程重点`
  - `所需资源与准备`

---

## 阶段二-C：能力升级评估（Stage2_Capability_Upgrade_agent）

- **负责人**：`Stage2_Capability_Upgrade_agent`
- **最近更新时间**：`YYYY-MM-DD HH:MM`
- **阶段目标摘要**：`评估是否需要扩展能力或访问外部资源`
- **思考概括（供全局 Agent 快速浏览）**：`提炼 3-5 句总结核心推理与结论`

### 阶段原文记录（阶段二-C）

> 请勿删除以下锚点。阶段二-C 代理应将能力升级评估全文写入此块，系统会根据 `<!-- STAGE2C_ANALYSIS_START -->` 与 `<!-- STAGE2C_ANALYSIS_END -->` 之间的内容进行自动替换。

<!-- STAGE2C_ANALYSIS_START -->
`待填写`
<!-- STAGE2C_ANALYSIS_END -->

### 1. 能力缺口诊断

| 缺口描述 | 影响范围 | 严重度 (`高/中/低`) | 备注 |
| -------- | -------- | ------------------ | ---- |
| | | | |

### 2. 升级方案

| 方案编号 | 升级内容 | 预期收益 | 成本/风险 | 实施条件 | 执行窗口 |
| -------- | -------- | -------- | --------- | -------- | -------- |
| U-1 | | | | | |
| U-2 | | | | | |

### 3. 决策与行动

- **建议采纳的方案**：`U-x`
- **执行责任方**：`Agent 或外部资源`
- **进度要求**：`时间节点`
- **后续验证方式**：`如何判定升级成功`

### 4. 阶段交付状态（阶段二-C）

- **状态**：`已完成/进行中/待补充`
- **与其他阶段的接口事项**：`列出需要同步的信息`

---

## 阶段三：执行步骤规划（Step_agent）

- **负责人**：`Step_agent`
- **最近更新时间**：`YYYY-MM-DD HH:MM`
- **阶段目标摘要**：`细化可执行步骤`
- **思考概括（供全局 Agent 快速浏览）**：`提炼 3-5 句总结核心推理与结论`

### 阶段原文记录（阶段三）

> 请勿删除以下锚点。阶段三代理应将执行步骤规划全文写入此块，系统会根据 `<!-- STAGE3_PLAN_START -->` 与 `<!-- STAGE3_PLAN_END -->` 之间的内容进行自动替换。

<!-- STAGE3_PLAN_START -->
`待填写`
<!-- STAGE3_PLAN_END -->

### 1. 执行概览

- **采用策略编号**：`S-x`
- **前提条件确认**：
  - 条件 1：`满足/未满足（说明）`
  - 条件 2：`满足/未满足（说明）`

### 2. 工具流水线记录

| 工具步骤 | 描述 | 输入 | 依赖 | 输出摘要 | 完整结果指针 |
| -------- | ---- | ---- | ---- | -------- | ------------ |
| T-1 | | | | | |
| T-2 | | | | | |
| T-3 | | | | | |

### 3. 执行步骤清单

| 步骤编号 | 操作描述 | 负责人 | 预期输出 | 依赖 | 验收标准 |
| -------- | -------- | ------ | -------- | ---- | -------- |
| Step-1 | | | | | |
| Step-2 | | | | | |
| Step-3 | | | | | |

### 4. 风险监控

- **关键监控点**：
  1. `监控指标 + 触发阈值`
- **回退策略**：`若执行失败时的回滚方案`

### 5. 阶段交付状态（阶段三）

- **状态**：`已完成/进行中/待补充`
- **移交说明**：`给执行 Agent 的特别提醒`

---

## 执行阶段：任务落实（Executor）

- **负责人**：`Executor / 实际执行的 Agent`
- **最近更新时间**：`YYYY-MM-DD HH:MM`
- **阶段目标摘要**：`按照规划落实行动并记录结果`
- **思考概括（供全局 Agent 快速浏览）**：`提炼 3-5 句总结核心推理与结论`

### 阶段原文记录（执行阶段）

> 请勿删除以下锚点。执行 Agent 应将执行落实记录全文写入此块，系统会根据 `<!-- STAGE4_EXECUTION_START -->` 与 `<!-- STAGE4_EXECUTION_END -->` 之间的内容进行自动替换。

<!-- STAGE4_EXECUTION_START -->
`待填写`
<!-- STAGE4_EXECUTION_END -->

### 1. 执行准备检查

| 检查项 | 是否通过 (`是/否`) | 备注 |
| ------ | ----------------- | ---- |
| 所需资源已就位 | | |
| 风险缓解措施准备完毕 | | |
| 沟通机制建立 | | |

### 2. 执行记录

| 步骤编号 | 实际耗时 | 实际结果 | 偏差说明 | 后续行动 |
| -------- | -------- | -------- | -------- | -------- |
| Step-1 | | | | |
| Step-2 | | | | |
| Step-3 | | | | |

### 3. 总结与反馈

- **目标达成度**：`已达成/部分达成/未达成（说明原因）`
- **经验沉淀**：
  - `成功经验`
  - `教训点`
- **回传建议**：`对前序阶段或库的改进建议`

---

## 附录与补充材料

### 外部文档链接

- `如有附加说明/截图，请在此罗列`

### 数据/日志索引

- `指向数据源或日志文件的位置`

### 术语表

| 术语 | 定义 | 备注 |
| ---- | ---- | ---- |
| 示例 | 示例 | |

### 版本记录

| 版本 | 日期 | 主要更新 | 更新人 |
| ---- | ---- | -------- | ------ |
| v0.1 | YYYY-MM-DD | 初稿 | `Agent` |
|  |  |  |  |

> **完成确认**：执行 Agent 在任务完结后，请在索引表中更新状态为 `已完成 @ 时间戳`，并确保所有字段均有结论或明确的后续处理人。


---

## 完成文档位置索引

- `finish_form/auto_generated_template_20251115_002110.md`
- `finish_form/auto_generated_template_20251115_030038.md`
